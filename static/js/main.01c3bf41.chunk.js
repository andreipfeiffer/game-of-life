(this["webpackJsonpgame-of-life"]=this["webpackJsonpgame-of-life"]||[]).push([[0],{15:function(e,t,a){},16:function(e,t,a){},17:function(e,t,a){"use strict";a.r(t);var c=a(2),i=a.n(c),n=a(9),r=a.n(n),o=a(6);function l(e,t,a){for(var c=[],i=0;i<a;i+=1){c[i]=[];for(var n=0;n<t;n+=1){var r;c[i][n]=!!(null===e||void 0===e||null===(r=e[i])||void 0===r?void 0:r[n])}}return c}function j(e){window.performance.mark("getNextPopulationStart");for(var t=[],a=0;a<e.length;a+=1){t[a]=[];for(var c=!1,i=0;i<e[a].length;i+=1){var n=!!e[a][i],r=b(e,a,i).filter((function(e){return!!e}));3===r.length||2===r.length&&n?t[a][i]=!0:t[a][i]=!1,t[a][i]!==e[a][i]&&(c=!0)}c||(t[a]=e[a])}return window.performance.mark("getNextPopulationEnd"),window.performance.measure("\ud83d\udc0c getNextPopulation","getNextPopulationStart","getNextPopulationEnd"),t}function b(e,t,a){var c=e.length,i=e[0].length,n=a>0?a-1:i-1,r=a<i-1?a+1:0,o=t>0?t-1:c-1,l=t<c-1?t+1:0;return[e[o][n],e[o][a],e[o][r],e[t][n],e[t][r],e[l][n],e[l][a],e[l][r]]}var O=a(3);function s(e,t){return"TOGGLE_PLAY"===t.type?Object(O.a)(Object(O.a)({},e),{},{play:!e.play}):"SET_RENDERER"===t.type?Object(O.a)(Object(O.a)({},e),{},{renderer:t.payload}):"SET_LIFETIME"===t.type?Object(O.a)(Object(O.a)({},e),{},{lifetime:t.payload}):"SET_WIDTH"===t.type?Object(O.a)(Object(O.a)({},e),{},{width:t.payload}):"SET_HEIGHT"===t.type?Object(O.a)(Object(O.a)({},e),{},{height:t.payload}):"SET_SIZE"===t.type?Object(O.a)(Object(O.a)({},e),{},{size:t.payload}):"SET_PRESET"===t.type?Object(O.a)(Object(O.a)({},e),{},{preset:t.payload}):"SET_POPULATION"===t.type?Object(O.a)(Object(O.a)({},e),{},{population:t.payload}):e}a(8);var d=a(1),p=i.a.memo(h),u=i.a.memo(f);function h(e){var t=e.row;return Object(d.jsx)("div",{className:"row",children:t.map((function(e,t){return Object(d.jsx)(u,{alive:e},t)}))})}function f(e){var t=e.alive;return Object(d.jsx)("span",{className:"cell ".concat(t?"cell-alive":"")})}var g=function(e){var t=e.population,a=e.size,c={"--size":"".concat(a,"px")};return Object(d.jsx)("div",{className:"life ".concat(a<15?"small-size":""),style:c,children:t.map((function(e,t){return Object(d.jsx)(p,{row:e},t)}))})};a(15);var v=function(e){var t=e.population,a=e.size,i=t.length,n=t[0].length,r=Object(c.useRef)(null);return Object(c.useEffect)((function(){var e,c=null===(e=r.current)||void 0===e?void 0:e.getContext("2d");if(c){c.fillStyle="white",c.fillRect(0,0,n*a,i*a),c.fillStyle="black";for(var o=0;o<t.length;o+=1)for(var l=0;l<t[o].length;l+=1){t[o][l]&&c.fillRect(l*a,o*a,a,a)}}})),Object(d.jsx)("canvas",{ref:r,className:"canvas",width:n*a,height:i*a})},y=Object.freeze({1:{value:1,label:"requestAnimationFrame()"},2:{value:16,label:"16ms"},3:{value:100,label:"100ms"},4:{value:300,label:"300ms"},5:{value:500,label:"0.5s"}});var m=function(e){var t=e.store,a=e.dispatch,i=e.presets,n=t.play,r=t.renderer,j=t.lifetime,b=t.width,O=t.height,s=t.size,p=t.preset,u=t.population;return Object(c.useEffect)((function(){var e=window.localStorage.getItem("presetId")||"";e&&h(e)}),[]),Object(d.jsxs)("div",{children:["Preset:"," ",Object(d.jsxs)("select",{value:p,onChange:function(e){return h(e.target.value)},children:[Object(d.jsx)("option",{value:"",children:"Select a preset"}),i.map((function(e){return Object(d.jsx)("option",{value:e.id,children:e.description},e.id)}))]}),Object(d.jsxs)("select",{value:r,onChange:function(e){return a({type:"SET_RENDERER",payload:e.target.value})},style:{marginLeft:"-1px"},children:[Object(d.jsx)("option",{value:"html",children:"HTML"},"html"),Object(d.jsx)("option",{value:"canvas",children:"Canvas"},"canvas")]})," ","Width:"," ",Object(d.jsx)("input",{type:"number",value:b,onChange:function(e){return function(e){var t=Math.max(e,4);a({type:"SET_WIDTH",payload:t}),a({type:"SET_POPULATION",payload:l(u,t,O)})}(+e.target.value)},maxLength:3,className:"input"})," ","Height:"," ",Object(d.jsx)("input",{type:"number",value:O,onChange:function(e){return function(e){var t=Math.max(e,4);a({type:"SET_HEIGHT",payload:t}),a({type:"SET_POPULATION",payload:l(u,b,t)})}(+e.target.value)},maxLength:3,className:"input"})," ","Size:"," ",Object(d.jsx)("input",{type:"number",value:s,onChange:function(e){return a({type:"SET_SIZE",payload:+e.target.value})},maxLength:3,className:"input"})," ",Object(d.jsx)("br",{}),Object(d.jsx)("br",{}),Object(d.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(d.jsx)("button",{onClick:function(){return a({type:"TOGGLE_PLAY"})},children:n?"Stop":"Play"})," ",p&&Object(d.jsx)("button",{onClick:function(){return h(p)},style:{marginLeft:"-1px"},children:"\u21ba"}),Object(d.jsx)("input",{type:"range",value:j,min:1,max:5,onChange:function(e){return a({type:"SET_LIFETIME",payload:+e.target.value})},list:"lifetime-options",style:{margin:"0 1em"}}),Object(d.jsx)("datalist",{id:"lifetime-options",children:Object.entries(y).map((function(e){var t=Object(o.a)(e,2),a=t[0],c=t[1];return Object(d.jsx)("option",{value:a,label:c.label},a)}))})," ",Object(d.jsx)("div",{children:y[j].label})]})]});function h(e){var t=i.find((function(t){return t.id===e})),c=(null===t||void 0===t?void 0:t.width)||b,n=(null===t||void 0===t?void 0:t.height)||O,r=(null===t||void 0===t?void 0:t.size)||30;a({type:"SET_WIDTH",payload:c}),a({type:"SET_HEIGHT",payload:n}),a({type:"SET_SIZE",payload:r}),a({type:"SET_PRESET",payload:e}),window.localStorage.setItem("presetId",e),a({type:"SET_POPULATION",payload:l((null===t||void 0===t?void 0:t.grid)||u,c,n)})}};a(16);var x=function(e){var t=e.presets,a=i.a.useReducer(s,{play:!1,renderer:"html",lifetime:+Object.keys(y).reverse()[0],width:1,height:1,size:30,preset:"",population:l([],1,1)}),c=Object(o.a)(a,2),n=c[0],r=c[1],b=n.play,O=n.renderer,p=n.lifetime,u=n.size,h=n.population;return function(e,t){var a=i.a.useRef();i.a.useEffect((function(){a.current=e}),[e,a]),i.a.useEffect((function(){var e;if(null!==t)return function c(){a.current(),null!==t&&(e=t<16?requestAnimationFrame(c):+setTimeout(c,t))}(),function(){return t<16?cancelAnimationFrame(e):clearTimeout(e)}}),[t,a])}((function(){r({type:"SET_POPULATION",payload:j(h)})}),b?y[p].value:null),Object(d.jsxs)("div",{children:[Object(d.jsx)(m,{dispatch:r,store:n,presets:t}),Object(d.jsx)("hr",{}),Object(d.jsx)("div",{className:"".concat(b?"playing":""),children:"canvas"===O?Object(d.jsx)(v,{population:h,size:u}):Object(d.jsx)(g,{population:h,size:u})})]})},E=a(0),S=!0,T=!1;function w(e){return Array(e).fill(T)}function I(e){return Array(e).fill(S)}var P=[{id:"block",description:"Block (Still life)",width:4,height:4,grid:[[T,T,T,T],[T,S,S,T],[T,S,S,T],[T,T,T,T]]},{id:"blinker",description:"Blinker (period 2 Oscillator)",width:5,height:5,grid:[[T,T,T,T,T],[T,T,T,T,T],[T,S,S,S,T],[T,T,T,T,T],[T,T,T,T,T]]},{id:"toad",description:"Toad (period 2 Oscillator)",width:6,height:6,grid:[[T,T,T,T,T,T],[T,T,T,T,T,T],[T,T,S,S,S,T],[T,S,S,S,T,T],[T,T,T,T,T,T],[T,T,T,T,T,T]]},{id:"beacon",description:"Beacon (period 2 Oscillator)",width:6,height:6,grid:[[T,T,T,T,T,T],[T,S,S,T,T,T],[T,S,S,T,T,T],[T,T,T,S,S,T],[T,T,T,S,S,T],[T,T,T,T,T,T]]},{id:"pulsar",description:"Pulsar (period 3 Oscillator)",width:17,height:17,size:20,grid:[Object(E.a)(w(17)),Object(E.a)(w(17)),[].concat(Object(E.a)(w(4)),Object(E.a)(I(3)),Object(E.a)(w(3)),Object(E.a)(I(3)),Object(E.a)(w(4))),Object(E.a)(w(17)),[T,T,S].concat(Object(E.a)(w(4)),[S,T,S],Object(E.a)(w(4)),[S,T,T]),[T,T,S].concat(Object(E.a)(w(4)),[S,T,S],Object(E.a)(w(4)),[S,T,T]),[T,T,S].concat(Object(E.a)(w(4)),[S,T,S],Object(E.a)(w(4)),[S,T,T]),[].concat(Object(E.a)(w(4)),Object(E.a)(I(3)),Object(E.a)(w(3)),Object(E.a)(I(3)),Object(E.a)(w(4))),Object(E.a)(w(17)),[].concat(Object(E.a)(w(4)),Object(E.a)(I(3)),Object(E.a)(w(3)),Object(E.a)(I(3)),Object(E.a)(w(4))),[T,T,S].concat(Object(E.a)(w(4)),[S,T,S],Object(E.a)(w(4)),[S,T,T]),[T,T,S].concat(Object(E.a)(w(4)),[S,T,S],Object(E.a)(w(4)),[S,T,T]),[T,T,S].concat(Object(E.a)(w(4)),[S,T,S],Object(E.a)(w(4)),[S,T,T]),Object(E.a)(w(17)),[].concat(Object(E.a)(w(4)),Object(E.a)(I(3)),Object(E.a)(w(3)),Object(E.a)(I(3)),Object(E.a)(w(4))),Object(E.a)(w(17)),Object(E.a)(w(17))]},{id:"penta-decathlon",description:"Penta-decathlon (period 15 Oscillator)",width:11,height:18,size:14,grid:[Object(E.a)(w(11)),Object(E.a)(w(11)),Object(E.a)(w(11)),Object(E.a)(w(11)),[].concat(Object(E.a)(w(5)),[S],Object(E.a)(w(5))),[].concat(Object(E.a)(w(5)),[S],Object(E.a)(w(5))),[].concat(Object(E.a)(w(4)),[S,T,S],Object(E.a)(w(4))),[].concat(Object(E.a)(w(5)),[S],Object(E.a)(w(5))),[].concat(Object(E.a)(w(5)),[S],Object(E.a)(w(5))),[].concat(Object(E.a)(w(5)),[S],Object(E.a)(w(5))),[].concat(Object(E.a)(w(5)),[S],Object(E.a)(w(5))),[].concat(Object(E.a)(w(4)),[S,T,S],Object(E.a)(w(4))),[].concat(Object(E.a)(w(5)),[S],Object(E.a)(w(5))),[].concat(Object(E.a)(w(5)),[S],Object(E.a)(w(5))),Object(E.a)(w(11)),Object(E.a)(w(11)),Object(E.a)(w(11)),Object(E.a)(w(11))]},{id:"glider",description:"Glider (Spaceship)",width:10,height:10,grid:[[T,T,T,T,T],[T,T,S,T,T],[T,T,T,S,T],[T,S,S,S,T],[T,T,T,T,T]]},{id:"LWSS",description:"Light-weight spaceship (LWSS)",width:20,height:9,grid:[[T,T,T,T,T,T,T,T,T,T,T],[T,T,T,T,T,T,T,T,T,T,T],[T,T,T,T,T,T,T,T,T,T,T],[T,T,T,T,S,S,S,S,T,T,T],[T,T,T,S,T,T,T,S,T,T,T],[T,T,T,T,T,T,T,S,T,T,T],[T,T,T,S,T,T,S,T,T,T,T],[T,T,T,T,T,T,T,T,T,T,T],[T,T,T,T,T,T,T,T,T,T,T]]},{id:"MWSS",description:"Middle-weight spaceship (MWSS)",width:20,height:11,grid:[[T,T,T,T,T,T,T,T,T,T,T,T],[T,T,T,T,T,T,T,T,T,T,T,T],[T,T,T,T,T,S,T,T,T,T,T,T],[T,T,T,S,T,T,T,S,T,T,T,T],[T,T,T,T,T,T,T,T,S,T,T,T],[T,T,T,S,T,T,T,T,S,T,T,T],[T,T,T,T,S,S,S,S,S,T,T,T],[T,T,T,T,T,T,T,T,T,T,T,T],[T,T,T,T,T,T,T,T,T,T,T,T]]},{id:"HWSS",description:"Heavy-weight spaceship (HWSS)",width:20,height:11,grid:[[T,T,T,T,T,T,T,T,T,T,T,T,T],[T,T,T,T,T,T,T,T,T,T,T,T,T],[T,T,T,T,T,S,S,T,T,T,T,T,T],[T,T,T,S,T,T,T,T,S,T,T,T,T],[T,T,T,T,T,T,T,T,T,S,T,T,T],[T,T,T,S,T,T,T,T,T,S,T,T,T],[T,T,T,T,S,S,S,S,S,S,T,T,T],[T,T,T,T,T,T,T,T,T,T,T,T,T]]},{id:"diehard",description:"Die Hard (Methuselahs)",width:50,height:50,size:3,grid:[].concat(Object(E.a)(Array(20).fill([!1])),[[].concat(Object(E.a)(w(20)),[T,T,T,T,T,T,S,T]),[].concat(Object(E.a)(w(20)),[S,S,T,T,T,T,T,T]),[].concat(Object(E.a)(w(20)),[T,S,T,T,T,S,S,S])])},{id:"acorn",description:"Acorn (Methuselahs)",width:200,height:150,size:3,grid:[].concat(Object(E.a)(Array(70).fill([!1])),[[].concat(Object(E.a)(w(100)),[T,S,T,T,T,T,T,T]),[].concat(Object(E.a)(w(100)),[T,T,T,S,T,T,T,T]),[].concat(Object(E.a)(w(100)),[S,S,T,T,S,S,S,T])])},{id:"r_pentomino",description:"The R-pentomino (Methuselahs)",width:200,height:150,size:3,grid:[].concat(Object(E.a)(Array(80).fill([!1])),[[].concat(Object(E.a)(w(100)),[T,S,S]),[].concat(Object(E.a)(w(100)),[S,S,T]),[].concat(Object(E.a)(w(100)),[T,S,T])])},{id:"infinite1",description:"Infinite 1",width:200,height:150,size:3,grid:[].concat(Object(E.a)(Array(80).fill([!1])),[[].concat(Object(E.a)(w(100)),[T,T,T,T,T,T,S,T,T]),[].concat(Object(E.a)(w(100)),[T,T,T,T,S,T,S,S,T]),[].concat(Object(E.a)(w(100)),[T,T,T,T,S,T,S,T,T]),[].concat(Object(E.a)(w(100)),[T,T,T,T,S,T,T,T,T]),[].concat(Object(E.a)(w(100)),[T,T,S,T,T,T,T,T,T]),[].concat(Object(E.a)(w(100)),[S,T,S,T,T,T,T,T,T])])},{id:"infinite2",description:"Infinite 2",width:200,height:150,size:3,grid:[].concat(Object(E.a)(Array(80).fill([!1])),[[].concat(Object(E.a)(w(100)),[S,S,S,T,S]),[].concat(Object(E.a)(w(100)),[S,T,T,T,T]),[].concat(Object(E.a)(w(100)),[T,T,T,S,S]),[].concat(Object(E.a)(w(100)),[T,S,S,T,S]),[].concat(Object(E.a)(w(100)),[S,T,S,T,S])])},{id:"infinite3",description:"Infinite 3",width:300,height:200,size:3,grid:[].concat(Object(E.a)(Array(100).fill([!1])),[[].concat(Object(E.a)(w(10)),Object(E.a)(I(8)),[T],Object(E.a)(I(5)),Object(E.a)(w(3)),Object(E.a)(I(3)),Object(E.a)(w(6)),Object(E.a)(I(7)),[T],Object(E.a)(I(5)))])},{id:"gospelslidergun",description:"Gosper glider gun",width:300,height:200,size:3,grid:[].concat(Object(E.a)(Array(30).fill([!1])),[[].concat(Object(E.a)(w(30)),[T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,S,T,T,T,T,T,T,T,T,T,T,T]),[].concat(Object(E.a)(w(30)),[T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,S,T,S,T,T,T,T,T,T,T,T,T,T,T]),[].concat(Object(E.a)(w(30)),[T,T,T,T,T,T,T,T,T,T,T,T,S,S,T,T,T,T,T,T,S,S,T,T,T,T,T,T,T,T,T,T,T,T,S,S]),[].concat(Object(E.a)(w(30)),[T,T,T,T,T,T,T,T,T,T,T,S,T,T,T,S,T,T,T,T,S,S,T,T,T,T,T,T,T,T,T,T,T,T,S,S]),[].concat(Object(E.a)(w(30)),[S,S,T,T,T,T,T,T,T,T,S,T,T,T,T,T,S,T,T,T,S,S,T,T,T,T,T,T,T,T,T,T,T,T,T,T]),[].concat(Object(E.a)(w(30)),[S,S,T,T,T,T,T,T,T,T,S,T,T,T,S,T,S,S,T,T,T,T,S,T,S,T,T,T,T,T,T,T,T,T,T,T]),[].concat(Object(E.a)(w(30)),[T,T,T,T,T,T,T,T,T,T,S,T,T,T,T,T,S,T,T,T,T,T,T,T,S,T,T,T,T,T,T,T,T,T,T,T]),[].concat(Object(E.a)(w(30)),[T,T,T,T,T,T,T,T,T,T,T,S,T,T,T,S,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T]),[].concat(Object(E.a)(w(30)),[T,T,T,T,T,T,T,T,T,T,T,T,S,S,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T])])}];r.a.render(Object(d.jsx)(i.a.StrictMode,{children:Object(d.jsx)(x,{presets:P})}),document.getElementById("root"))},8:function(e,t,a){}},[[17,1,2]]]);
//# sourceMappingURL=main.01c3bf41.chunk.js.map