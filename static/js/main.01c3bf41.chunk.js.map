{"version":3,"sources":["utils.ts","store.ts","Life.tsx","LifeCanvas.tsx","Settings.tsx","App.tsx","hooks.ts","presets.ts","index.tsx"],"names":["getInitialState","start","width","height","result","row","col","getNextPopulation","grid","window","performance","mark","next","length","isRowChanged","isAlive","liveNeighbors","getNeighbors","filter","cell","measure","prevX","nextX","prevY","nextY","reducer","state","action","type","play","renderer","payload","lifetime","size","preset","population","OptimizedRow","React","memo","Row","OptimizedCell","Cell","props","className","map","x","alive","Life","style","y","LifeCanvas","canvasRef","useRef","useEffect","ctx","current","getContext","fillStyle","fillRect","ref","LifetimeValues","Object","freeze","1","value","label","2","3","4","5","Settings","store","dispatch","presets","initialPreset","localStorage","getItem","loadPreset","onChange","e","target","id","description","marginLeft","newWidth","Math","max","updateWidth","maxLength","newHeight","updateHeight","display","alignItems","onClick","min","list","margin","entries","k","v","newPreset","find","p","newSize","setItem","App","useReducer","keys","reverse","callback","msDelay","savedCallback","tick","requestAnimationFrame","setTimeout","cancelAnimationFrame","clearTimeout","useInterval","O","_","__","nr","Array","fill","OO","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.01c3bf41.chunk.js","sourcesContent":["import { Grid } from \"./types\";\n\nexport function getInitialState(\n  start: Array<Array<any>>,\n  width: number,\n  height: number\n): Grid {\n  const result: Grid = [];\n\n  for (let row = 0; row < height; row += 1) {\n    result[row] = [];\n\n    for (let col = 0; col < width; col += 1) {\n      result[row][col] = !!start?.[row]?.[col];\n    }\n  }\n\n  return result;\n}\n\nexport function getNextPopulation(grid: Grid): Grid {\n  window.performance.mark(\"getNextPopulationStart\");\n\n  const next: Grid = [];\n\n  for (let row = 0; row < grid.length; row += 1) {\n    next[row] = [];\n    let isRowChanged = false;\n\n    for (let col = 0; col < grid[row].length; col += 1) {\n      const isAlive = !!grid[row][col];\n      const neighbors = getNeighbors(grid, row, col);\n      const liveNeighbors = neighbors.filter((cell) => !!cell);\n\n      if (liveNeighbors.length === 3) {\n        next[row][col] = true;\n      } else if (liveNeighbors.length === 2 && isAlive) {\n        next[row][col] = true;\n      } else {\n        next[row][col] = false;\n      }\n\n      // mark that the row has changed\n      if (next[row][col] !== grid[row][col]) {\n        isRowChanged = true;\n      }\n    }\n\n    if (!isRowChanged) {\n      // copy row reference if it hasn't changed\n      // so it is optimized by React.memo()\n      next[row] = grid[row];\n    }\n  }\n\n  window.performance.mark(\"getNextPopulationEnd\");\n  window.performance.measure(\n    \"🐌 getNextPopulation\",\n    \"getNextPopulationStart\",\n    \"getNextPopulationEnd\"\n  );\n\n  return next;\n}\n\nexport function getNeighbors(\n  grid: Array<Array<any>>,\n  row: number,\n  col: number\n): Array<any> {\n  const height = grid.length;\n  const width = grid[0].length;\n\n  const prevX = col > 0 ? col - 1 : width - 1;\n  const nextX = col < width - 1 ? col + 1 : 0;\n\n  const prevY = row > 0 ? row - 1 : height - 1;\n  const nextY = row < height - 1 ? row + 1 : 0;\n\n  return [\n    grid[prevY][prevX], // top left\n    grid[prevY][col], // top\n    grid[prevY][nextX], // top right\n    grid[row][prevX], // left\n    grid[row][nextX], // right\n    grid[nextY][prevX], // bottom left\n    grid[nextY][col], // bottom\n    grid[nextY][nextX], // bottom right\n  ];\n}\n","import { Grid } from \"./types\";\n\nexport type Store = {\n  play: boolean;\n  renderer: Renderer;\n  lifetime: number;\n  width: number;\n  height: number;\n  size: number;\n  preset: string;\n  population: Grid;\n};\n\nexport type Action =\n  | { type: \"SET_RENDERER\"; payload: Renderer }\n  | {\n      type: \"SET_LIFETIME\" | \"SET_WIDTH\" | \"SET_HEIGHT\" | \"SET_SIZE\";\n      payload: number;\n    }\n  | { type: \"SET_PRESET\"; payload: string }\n  | { type: \"SET_POPULATION\"; payload: Grid }\n  | { type: \"TOGGLE_PLAY\" };\n\nexport type Renderer = \"html\" | \"canvas\";\n\nexport function reducer(state: Store, action: Action): Store {\n  if (action.type === \"TOGGLE_PLAY\") {\n    return { ...state, play: !state.play };\n  }\n\n  if (action.type === \"SET_RENDERER\") {\n    return { ...state, renderer: action.payload };\n  }\n\n  if (action.type === \"SET_LIFETIME\") {\n    return { ...state, lifetime: action.payload };\n  }\n\n  if (action.type === \"SET_WIDTH\") {\n    return { ...state, width: action.payload };\n  }\n\n  if (action.type === \"SET_HEIGHT\") {\n    return { ...state, height: action.payload };\n  }\n\n  if (action.type === \"SET_SIZE\") {\n    return { ...state, size: action.payload };\n  }\n\n  if (action.type === \"SET_PRESET\") {\n    return { ...state, preset: action.payload };\n  }\n\n  if (action.type === \"SET_POPULATION\") {\n    return { ...state, population: action.payload };\n  }\n\n  return state;\n}\n","import React from \"react\";\nimport { Grid } from \"./types\";\nimport \"./Life.css\";\n\ninterface Props {\n  population: Grid;\n  size: number;\n}\n\nconst SIZE_THRESHOLD = 15;\nconst OptimizedRow = React.memo(Row);\nconst OptimizedCell = React.memo(Cell);\n\nfunction Life(props: Props) {\n  const { population, size } = props;\n\n  const style = { \"--size\": `${size}px` } as React.CSSProperties;\n\n  return (\n    <div\n      className={`life ${size < SIZE_THRESHOLD ? \"small-size\" : \"\"}`}\n      style={style}\n    >\n      {population.map((row, y) => (\n        <OptimizedRow key={y} row={row} />\n      ))}\n    </div>\n  );\n}\n\ninterface RowProps {\n  row: Array<boolean>;\n}\n\nfunction Row(props: RowProps) {\n  const { row } = props;\n  return (\n    <div className=\"row\">\n      {row.map((cell, x) => (\n        <OptimizedCell key={x} alive={cell} />\n      ))}\n    </div>\n  );\n}\n\ninterface CellProps {\n  alive: boolean;\n}\n\nfunction Cell(props: CellProps) {\n  const { alive } = props;\n  return <span className={`cell ${alive ? \"cell-alive\" : \"\"}`}></span>;\n}\n\nexport default Life;\n","import React, { useRef, useEffect } from \"react\";\nimport { Grid } from \"./types\";\nimport \"./LifeCanvas.css\";\n\ninterface Props {\n  population: Grid;\n  size: number;\n}\n\nfunction LifeCanvas(props: Props) {\n  const { population, size } = props;\n  const height = population.length;\n  const width = population[0].length;\n\n  const canvasRef = useRef<HTMLCanvasElement>(null);\n\n  useEffect(() => {\n    const ctx = canvasRef.current?.getContext(\"2d\");\n\n    if (!ctx) {\n      return;\n    }\n\n    ctx.fillStyle = \"white\";\n    ctx.fillRect(0, 0, width * size, height * size);\n\n    ctx.fillStyle = \"black\";\n    for (let row = 0; row < population.length; row += 1) {\n      for (let col = 0; col < population[row].length; col += 1) {\n        const cell = population[row][col];\n        cell && ctx.fillRect(col * size, row * size, size, size);\n      }\n    }\n  });\n\n  return (\n    <canvas\n      ref={canvasRef}\n      className=\"canvas\"\n      width={width * size}\n      height={height * size}\n    ></canvas>\n  );\n}\n\nexport default LifeCanvas;\n","import React, { useEffect } from \"react\";\nimport { Preset } from \"./types\";\nimport \"./Life.css\";\nimport { Store, Action, Renderer } from \"./store\";\nimport { getInitialState } from \"./utils\";\n\ntype Props = {\n  store: Store;\n  dispatch: React.Dispatch<Action>;\n  presets: Preset[];\n};\n\nconst MIN_LENGTH = 4;\nconst DEFAULT_SIZE = 30;\n\nexport const LifetimeValues: Record<\n  number,\n  { value: number; label: string }\n> = Object.freeze({\n  1: { value: 1, label: \"requestAnimationFrame()\" },\n  2: { value: 16, label: \"16ms\" },\n  3: { value: 100, label: \"100ms\" },\n  4: { value: 300, label: \"300ms\" },\n  5: { value: 500, label: \"0.5s\" },\n});\n\nfunction Settings(props: Props) {\n  const { store, dispatch, presets } = props;\n\n  const {\n    play,\n    renderer,\n    lifetime,\n    width,\n    height,\n    size,\n    preset,\n    population,\n  } = store;\n\n  useEffect(() => {\n    const initialPreset = window.localStorage.getItem(\"presetId\") || \"\";\n    initialPreset && loadPreset(initialPreset);\n    // eslint-disable-next-line\n  }, []);\n\n  return (\n    <div>\n      Preset:{\" \"}\n      <select value={preset} onChange={(e) => loadPreset(e.target.value)}>\n        <option value=\"\">Select a preset</option>\n        {presets.map((preset) => (\n          <option key={preset.id} value={preset.id}>\n            {preset.description}\n          </option>\n        ))}\n      </select>\n      <select\n        value={renderer}\n        onChange={(e) =>\n          dispatch({\n            type: \"SET_RENDERER\",\n            payload: e.target.value as Renderer,\n          })\n        }\n        style={{ marginLeft: \"-1px\" }}\n      >\n        <option key=\"html\" value=\"html\">\n          HTML\n        </option>\n        <option key=\"canvas\" value=\"canvas\">\n          Canvas\n        </option>\n      </select>{\" \"}\n      Width:{\" \"}\n      <input\n        type=\"number\"\n        value={width}\n        onChange={(e) => updateWidth(+e.target.value)}\n        maxLength={3}\n        className=\"input\"\n      />{\" \"}\n      Height:{\" \"}\n      <input\n        type=\"number\"\n        value={height}\n        onChange={(e) => updateHeight(+e.target.value)}\n        maxLength={3}\n        className=\"input\"\n      />{\" \"}\n      Size:{\" \"}\n      <input\n        type=\"number\"\n        value={size}\n        onChange={(e) =>\n          dispatch({ type: \"SET_SIZE\", payload: +e.target.value })\n        }\n        maxLength={3}\n        className=\"input\"\n      />{\" \"}\n      <br />\n      <br />\n      <div style={{ display: \"flex\", alignItems: \"center\" }}>\n        <button onClick={() => dispatch({ type: \"TOGGLE_PLAY\" })}>\n          {play ? \"Stop\" : \"Play\"}\n        </button>{\" \"}\n        {preset && (\n          <button\n            onClick={() => loadPreset(preset)}\n            style={{ marginLeft: \"-1px\" }}\n          >\n            ↺\n          </button>\n        )}\n        <input\n          type=\"range\"\n          value={lifetime}\n          min={1}\n          max={5}\n          onChange={(e) =>\n            dispatch({ type: \"SET_LIFETIME\", payload: +e.target.value })\n          }\n          list=\"lifetime-options\"\n          style={{ margin: \"0 1em\" }}\n        />\n        <datalist id=\"lifetime-options\">\n          {Object.entries(LifetimeValues).map(([k, v]) => (\n            <option key={k} value={k} label={v.label} />\n          ))}\n        </datalist>{\" \"}\n        <div>{LifetimeValues[lifetime].label}</div>\n      </div>\n    </div>\n  );\n\n  function updateWidth(value: number) {\n    const newWidth = Math.max(value, MIN_LENGTH);\n    dispatch({ type: \"SET_WIDTH\", payload: newWidth });\n    dispatch({\n      type: \"SET_POPULATION\",\n      payload: getInitialState(population, newWidth, height),\n    });\n  }\n\n  function updateHeight(value: number) {\n    const newHeight = Math.max(value, MIN_LENGTH);\n    dispatch({ type: \"SET_HEIGHT\", payload: newHeight });\n    dispatch({\n      type: \"SET_POPULATION\",\n      payload: getInitialState(population, width, newHeight),\n    });\n  }\n\n  function loadPreset(id: string) {\n    const newPreset = presets.find((p) => p.id === id);\n    const newWidth = newPreset?.width || width;\n    const newHeight = newPreset?.height || height;\n    const newSize = newPreset?.size || DEFAULT_SIZE;\n\n    dispatch({ type: \"SET_WIDTH\", payload: newWidth });\n    dispatch({ type: \"SET_HEIGHT\", payload: newHeight });\n    dispatch({ type: \"SET_SIZE\", payload: newSize });\n    dispatch({ type: \"SET_PRESET\", payload: id });\n\n    window.localStorage.setItem(\"presetId\", id);\n\n    dispatch({\n      type: \"SET_POPULATION\",\n      payload: getInitialState(\n        newPreset?.grid || population,\n        newWidth,\n        newHeight\n      ),\n    });\n  }\n}\n\nexport default Settings;\n","import React from \"react\";\n\nimport { Preset } from \"./types\";\nimport { getInitialState, getNextPopulation } from \"./utils\";\nimport { useInterval } from \"./hooks\";\nimport { reducer } from \"./store\";\n\nimport Life from \"./Life\";\nimport LifeCanvas from \"./LifeCanvas\";\nimport Settings, { LifetimeValues } from \"./Settings\";\n\nimport \"./App.css\";\n\ninterface Props {\n  presets: Preset[];\n}\n\nfunction App(props: Props) {\n  const { presets } = props;\n\n  const [store, dispatch] = React.useReducer(reducer, {\n    play: false,\n    renderer: \"html\",\n    lifetime: +Object.keys(LifetimeValues).reverse()[0],\n    width: 1,\n    height: 1,\n    size: 30,\n    preset: \"\",\n    population: getInitialState([], 1, 1),\n  });\n\n  const { play, renderer, lifetime, size, population } = store;\n\n  useInterval(nextGeneration, play ? LifetimeValues[lifetime].value : null);\n\n  return (\n    <div>\n      <Settings dispatch={dispatch} store={store} presets={presets} />\n      <hr />\n      <div className={`${play ? \"playing\" : \"\"}`}>\n        {renderer === \"canvas\" ? (\n          <LifeCanvas population={population} size={size} />\n        ) : (\n          <Life population={population} size={size} />\n        )}\n      </div>\n    </div>\n  );\n\n  function nextGeneration() {\n    dispatch({\n      type: \"SET_POPULATION\",\n      payload: getNextPopulation(population),\n    });\n  }\n}\n\nexport default App;\n","import React from \"react\";\n\nexport function useInterval(callback: Function, msDelay: number | null) {\n  const savedCallback = React.useRef() as React.MutableRefObject<Function>;\n\n  // Remember the latest function.\n  React.useEffect(() => {\n    savedCallback.current = callback;\n  }, [callback, savedCallback]);\n\n  // Set up the interval.\n  React.useEffect(() => {\n    let id: number;\n\n    function tick() {\n      savedCallback.current();\n\n      if (msDelay !== null) {\n        id =\n          msDelay < 16\n            ? requestAnimationFrame(tick)\n            : +setTimeout(tick, msDelay);\n      }\n    }\n\n    if (msDelay !== null) {\n      tick();\n      return () => (msDelay < 16 ? cancelAnimationFrame(id) : clearTimeout(id));\n    }\n  }, [msDelay, savedCallback]);\n}\n","import { Preset } from \"./types\";\n\nconst O = true;\nconst _ = false;\n\n// https://www.youtube.com/watch?v=-FaqC4h5Ftg\n\nexport function getPresets(): Preset[] {\n  return [\n    {\n      id: \"block\",\n      description: \"Block (Still life)\",\n      width: 4,\n      height: 4,\n      grid: [\n        [_, _, _, _],\n        [_, O, O, _],\n        [_, O, O, _],\n        [_, _, _, _],\n      ],\n    },\n    {\n      id: \"blinker\",\n      description: \"Blinker (period 2 Oscillator)\",\n      width: 5,\n      height: 5,\n      grid: [\n        [_, _, _, _, _],\n        [_, _, _, _, _],\n        [_, O, O, O, _],\n        [_, _, _, _, _],\n        [_, _, _, _, _],\n      ],\n    },\n    {\n      id: \"toad\",\n      description: \"Toad (period 2 Oscillator)\",\n      width: 6,\n      height: 6,\n      grid: [\n        [_, _, _, _, _, _],\n        [_, _, _, _, _, _],\n        [_, _, O, O, O, _],\n        [_, O, O, O, _, _],\n        [_, _, _, _, _, _],\n        [_, _, _, _, _, _],\n      ],\n    },\n    {\n      id: \"beacon\",\n      description: \"Beacon (period 2 Oscillator)\",\n      width: 6,\n      height: 6,\n      grid: [\n        [_, _, _, _, _, _],\n        [_, O, O, _, _, _],\n        [_, O, O, _, _, _],\n        [_, _, _, O, O, _],\n        [_, _, _, O, O, _],\n        [_, _, _, _, _, _],\n      ],\n    },\n    {\n      id: \"pulsar\",\n      description: \"Pulsar (period 3 Oscillator)\",\n      width: 17,\n      height: 17,\n      size: 20,\n      grid: [\n        [...__(17)],\n        [...__(17)],\n        [...__(4), ...OO(3), ...__(3), ...OO(3), ...__(4)],\n        [...__(17)],\n        [_, _, O, ...__(4), O, _, O, ...__(4), O, _, _],\n        [_, _, O, ...__(4), O, _, O, ...__(4), O, _, _],\n        [_, _, O, ...__(4), O, _, O, ...__(4), O, _, _],\n        [...__(4), ...OO(3), ...__(3), ...OO(3), ...__(4)],\n        [...__(17)],\n        [...__(4), ...OO(3), ...__(3), ...OO(3), ...__(4)],\n        [_, _, O, ...__(4), O, _, O, ...__(4), O, _, _],\n        [_, _, O, ...__(4), O, _, O, ...__(4), O, _, _],\n        [_, _, O, ...__(4), O, _, O, ...__(4), O, _, _],\n        [...__(17)],\n        [...__(4), ...OO(3), ...__(3), ...OO(3), ...__(4)],\n        [...__(17)],\n        [...__(17)],\n      ],\n    },\n    {\n      id: \"penta-decathlon\",\n      description: \"Penta-decathlon (period 15 Oscillator)\",\n      width: 11,\n      height: 18,\n      size: 14,\n      grid: [\n        [...__(11)],\n        [...__(11)],\n        [...__(11)],\n        [...__(11)],\n        [...__(5), O, ...__(5)],\n        [...__(5), O, ...__(5)],\n        [...__(4), O, _, O, ...__(4)],\n        [...__(5), O, ...__(5)],\n        [...__(5), O, ...__(5)],\n        [...__(5), O, ...__(5)],\n        [...__(5), O, ...__(5)],\n        [...__(4), O, _, O, ...__(4)],\n        [...__(5), O, ...__(5)],\n        [...__(5), O, ...__(5)],\n        [...__(11)],\n        [...__(11)],\n        [...__(11)],\n        [...__(11)],\n      ],\n    },\n    {\n      id: \"glider\",\n      description: \"Glider (Spaceship)\",\n      width: 10,\n      height: 10,\n      grid: [\n        [_, _, _, _, _],\n        [_, _, O, _, _],\n        [_, _, _, O, _],\n        [_, O, O, O, _],\n        [_, _, _, _, _],\n      ],\n    },\n    {\n      id: \"LWSS\",\n      description: \"Light-weight spaceship (LWSS)\",\n      width: 20,\n      height: 9,\n      grid: [\n        [_, _, _, _, _, _, _, _, _, _, _],\n        [_, _, _, _, _, _, _, _, _, _, _],\n        [_, _, _, _, _, _, _, _, _, _, _],\n        [_, _, _, _, O, O, O, O, _, _, _],\n        [_, _, _, O, _, _, _, O, _, _, _],\n        [_, _, _, _, _, _, _, O, _, _, _],\n        [_, _, _, O, _, _, O, _, _, _, _],\n        [_, _, _, _, _, _, _, _, _, _, _],\n        [_, _, _, _, _, _, _, _, _, _, _],\n      ],\n    },\n    {\n      id: \"MWSS\",\n      description: \"Middle-weight spaceship (MWSS)\",\n      width: 20,\n      height: 11,\n      grid: [\n        [_, _, _, _, _, _, _, _, _, _, _, _],\n        [_, _, _, _, _, _, _, _, _, _, _, _],\n        [_, _, _, _, _, O, _, _, _, _, _, _],\n        [_, _, _, O, _, _, _, O, _, _, _, _],\n        [_, _, _, _, _, _, _, _, O, _, _, _],\n        [_, _, _, O, _, _, _, _, O, _, _, _],\n        [_, _, _, _, O, O, O, O, O, _, _, _],\n        [_, _, _, _, _, _, _, _, _, _, _, _],\n        [_, _, _, _, _, _, _, _, _, _, _, _],\n      ],\n    },\n    {\n      id: \"HWSS\",\n      description: \"Heavy-weight spaceship (HWSS)\",\n      width: 20,\n      height: 11,\n      grid: [\n        [_, _, _, _, _, _, _, _, _, _, _, _, _],\n        [_, _, _, _, _, _, _, _, _, _, _, _, _],\n        [_, _, _, _, _, O, O, _, _, _, _, _, _],\n        [_, _, _, O, _, _, _, _, O, _, _, _, _],\n        [_, _, _, _, _, _, _, _, _, O, _, _, _],\n        [_, _, _, O, _, _, _, _, _, O, _, _, _],\n        [_, _, _, _, O, O, O, O, O, O, _, _, _],\n        [_, _, _, _, _, _, _, _, _, _, _, _, _],\n      ],\n    },\n    {\n      id: \"diehard\",\n      description: \"Die Hard (Methuselahs)\",\n      width: 50,\n      height: 50,\n      size: 3,\n      grid: [\n        ...Array(20).fill([false]),\n        [...__(20), _, _, _, _, _, _, O, _],\n        [...__(20), O, O, _, _, _, _, _, _],\n        [...__(20), _, O, _, _, _, O, O, O],\n      ],\n    },\n    {\n      id: \"acorn\",\n      description: \"Acorn (Methuselahs)\",\n      width: 200,\n      height: 150,\n      size: 3,\n      grid: [\n        ...Array(70).fill([false]),\n        [...__(100), _, O, _, _, _, _, _, _],\n        [...__(100), _, _, _, O, _, _, _, _],\n        [...__(100), O, O, _, _, O, O, O, _],\n      ],\n    },\n    {\n      id: \"r_pentomino\",\n      description: \"The R-pentomino (Methuselahs)\",\n      width: 200,\n      height: 150,\n      size: 3,\n      grid: [\n        ...Array(80).fill([false]),\n        [...__(100), _, O, O],\n        [...__(100), O, O, _],\n        [...__(100), _, O, _],\n      ],\n    },\n    {\n      id: \"infinite1\",\n      description: \"Infinite 1\",\n      width: 200,\n      height: 150,\n      size: 3,\n      grid: [\n        ...Array(80).fill([false]),\n        [...__(100), _, _, _, _, _, _, O, _, _],\n        [...__(100), _, _, _, _, O, _, O, O, _],\n        [...__(100), _, _, _, _, O, _, O, _, _],\n        [...__(100), _, _, _, _, O, _, _, _, _],\n        [...__(100), _, _, O, _, _, _, _, _, _],\n        [...__(100), O, _, O, _, _, _, _, _, _],\n      ],\n    },\n    {\n      id: \"infinite2\",\n      description: \"Infinite 2\",\n      width: 200,\n      height: 150,\n      size: 3,\n      grid: [\n        ...Array(80).fill([false]),\n        [...__(100), O, O, O, _, O],\n        [...__(100), O, _, _, _, _],\n        [...__(100), _, _, _, O, O],\n        [...__(100), _, O, O, _, O],\n        [...__(100), O, _, O, _, O],\n      ],\n    },\n    {\n      id: \"infinite3\",\n      description: \"Infinite 3\",\n      width: 300,\n      height: 200,\n      size: 3,\n      grid: [\n        ...Array(100).fill([false]),\n        [\n          ...__(10),\n          ...OO(8),\n          _,\n          ...OO(5),\n          ...__(3),\n          ...OO(3),\n          ...__(6),\n          ...OO(7),\n          _,\n          ...OO(5),\n        ],\n      ],\n    },\n    {\n      id: \"gospelslidergun\",\n      description: \"Gosper glider gun\",\n      width: 300,\n      height: 200,\n      size: 3,\n      grid: [\n        ...Array(30).fill([false]),\n        // prettier-ignore\n        [...__(30), _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, O, _, _, _, _, _, _, _, _, _, _, _],\n        // prettier-ignore\n        [...__(30), _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, O, _, O, _, _, _, _, _, _, _, _, _, _, _],\n        // prettier-ignore\n        [...__(30), _, _, _, _, _, _, _, _, _, _, _, _, O, O, _, _, _, _, _, _, O, O, _, _, _, _, _, _, _, _, _, _, _, _, O, O],\n        // prettier-ignore\n        [...__(30), _, _, _, _, _, _, _, _, _, _, _, O, _, _, _, O, _, _, _, _, O, O, _, _, _, _, _, _, _, _, _, _, _, _, O, O],\n        // prettier-ignore\n        [...__(30), O, O, _, _, _, _, _, _, _, _, O, _, _, _, _, _, O, _, _, _, O, O, _, _, _, _, _, _, _, _, _, _, _, _, _, _],\n        // prettier-ignore\n        [...__(30), O, O, _, _, _, _, _, _, _, _, O, _, _, _, O, _, O, O, _, _, _, _, O, _, O, _, _, _, _, _, _, _, _, _, _, _],\n        // prettier-ignore\n        [...__(30), _, _, _, _, _, _, _, _, _, _, O, _, _, _, _, _, O, _, _, _, _, _, _, _, O, _, _, _, _, _, _, _, _, _, _, _],\n        // prettier-ignore\n        [...__(30), _, _, _, _, _, _, _, _, _, _, _, O, _, _, _, O, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _],\n        // prettier-ignore\n        [...__(30), _, _, _, _, _, _, _, _, _, _, _, _, O, O, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _],\n      ],\n    },\n  ];\n}\n\nfunction __(nr: number) {\n  return Array(nr).fill(_);\n}\nfunction OO(nr: number) {\n  return Array(nr).fill(O);\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport App from \"./App\";\nimport { getPresets } from \"./presets\";\n\nconst presets = getPresets();\n\nReactDOM.render(\n  <React.StrictMode>\n    <App presets={presets} />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}