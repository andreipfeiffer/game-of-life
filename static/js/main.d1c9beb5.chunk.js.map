{"version":3,"sources":["utils.ts","Life.tsx","LifeCanvas.tsx","App.tsx","hooks.ts","presets.ts","index.tsx"],"names":["getInitialState","start","width","height","result","row","col","getNeighbors","grid","length","prevX","nextX","prevY","nextY","OptimizedRow","React","memo","props","y","onToggle","key","className","map","cell","x","OptimizedCell","alive","onClick","Life","population","size","style","LifeCanvas","canvasRef","useRef","useEffect","ctx","current","getContext","fillStyle","fillRect","ref","LifetimeValues","Object","freeze","1","value","label","2","3","4","5","App","presets","useState","play","setPlay","renderer","setRenderer","keys","reverse","lifetime","setLifetime","setWidth","setHeight","setSize","manualChange","increaseManualChange","id","preset","setPreset","setPopulation","callback","msDelay","savedCallback","tick","requestAnimationFrame","setTimeout","cancelAnimationFrame","clearTimeout","useInterval","window","performance","mark","next","isRowChanged","isAlive","filter","measure","getNextPopulation","optimizedToggleCell","useCallback","newRow","newPopulation","slice","onChange","e","newPreset","find","p","newWidth","newHeight","newSize","loadPreset","target","description","marginLeft","type","Math","max","updateWidth","maxLength","updateHeight","display","alignItems","min","list","margin","entries","k","v","T","_","No","nr","Array","fill","Yes","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.d1c9beb5.chunk.js","sourcesContent":["import { Grid } from \"./types\";\n\nexport function getInitialState(\n  start: Array<Array<any>>,\n  width: number,\n  height: number\n): Grid {\n  const result: Grid = [];\n\n  for (let row = 0; row < height; row += 1) {\n    result[row] = [];\n\n    for (let col = 0; col < width; col += 1) {\n      result[row][col] = !!start?.[row]?.[col];\n    }\n  }\n\n  return result;\n}\n\nexport function getNextPopulation(grid: Array<Array<any>>): Grid {\n  window.performance.mark(\"calculateNextTickStart\");\n\n  const next: Grid = [];\n\n  for (let row = 0; row < grid.length; row += 1) {\n    next[row] = [];\n    let isRowChanged = false;\n\n    for (let col = 0; col < grid[row].length; col += 1) {\n      const isAlive = !!grid[row][col];\n      const neighbors = getNeighbors(grid, row, col);\n      const alive = neighbors.filter((cell) => !!cell);\n\n      if (alive.length === 3) {\n        next[row][col] = true;\n      } else if (alive.length === 2 && isAlive) {\n        next[row][col] = true;\n      } else {\n        next[row][col] = false;\n      }\n\n      if (next[row][col] !== grid[row][col]) {\n        // mark that the row has changed\n        isRowChanged = true;\n      }\n    }\n\n    if (!isRowChanged) {\n      // copy row reference if it hasn't changed\n      // so it is optimized by React.memo()\n      next[row] = grid[row];\n    }\n  }\n\n  window.performance.mark(\"calculateNextTickEnd\");\n  window.performance.measure(\n    \"calculateNextTick\",\n    \"calculateNextTickStart\",\n    \"calculateNextTickEnd\"\n  );\n\n  return next;\n}\n\nexport function getNeighbors(\n  grid: Array<Array<any>>,\n  row: number,\n  col: number\n): Array<any> {\n  const height = grid.length;\n  const width = grid[0].length;\n\n  const prevX = col > 0 ? col - 1 : width - 1;\n  const nextX = col < width - 1 ? col + 1 : 0;\n\n  const prevY = row > 0 ? row - 1 : height - 1;\n  const nextY = row < height - 1 ? row + 1 : 0;\n\n  return [\n    grid[prevY][prevX], // top left\n    grid[prevY][col], // top\n    grid[prevY][nextX], // top right\n    grid[row][prevX], // left\n    grid[row][nextX], // right\n    grid[nextY][prevX], // bottom left\n    grid[nextY][col], // bottom\n    grid[nextY][nextX], // bottom right\n  ];\n}\n","import React from \"react\";\nimport { Grid } from \"./types\";\nimport \"./Life.css\";\n\ninterface Props {\n  population: Grid;\n  size: number;\n  onToggle(x: number, y: number): void;\n}\n\nconst SIZE_LIMIT = 15;\nconst OptimizedRow = React.memo(Row);\nconst OptimizedCell = React.memo(Cell);\n\nfunction Life(props: Props) {\n  const { population, size, onToggle } = props;\n\n  const style = { \"--size\": `${size}px` } as React.CSSProperties;\n\n  return (\n    <div\n      className={`life ${size < SIZE_LIMIT ? \"small-size\" : \"\"}`}\n      style={style}\n    >\n      {population.map((row, y) => (\n        <OptimizedRow key={y} row={row} y={y} onToggle={onToggle} />\n      ))}\n    </div>\n  );\n}\n\ninterface RowProps {\n  row: Array<boolean>;\n  y: number;\n  onToggle(x: number, y: number): void;\n}\n\nfunction Row(props: RowProps) {\n  const { y, row, onToggle } = props;\n  return (\n    <div key={y} className=\"row\">\n      {row.map((cell, x) => (\n        <OptimizedCell\n          key={`${y}${x}`}\n          x={x}\n          y={y}\n          onToggle={onToggle}\n          alive={cell}\n        />\n      ))}\n    </div>\n  );\n}\n\ninterface CellProps {\n  alive: boolean;\n  x: number;\n  y: number;\n  onToggle(x: number, y: number): void;\n}\n\nfunction Cell(props: CellProps) {\n  const { alive, x, y, onToggle } = props;\n  return (\n    <span\n      className={`cell ${alive ? \"cell-alive\" : \"\"}`}\n      onClick={() => onToggle(x, y)}\n    ></span>\n  );\n}\n\nexport default Life;\n","import React, { useRef, useEffect } from \"react\";\nimport { Grid } from \"./types\";\nimport \"./LifeCanvas.css\";\n\ninterface Props {\n  population: Grid;\n  size: number;\n}\n\nfunction LifeCanvas(props: Props) {\n  const { population, size } = props;\n  const height = population.length;\n  const width = population[0].length;\n\n  const canvasRef = useRef<HTMLCanvasElement>(null);\n\n  useEffect(() => {\n    const ctx = canvasRef.current?.getContext(\"2d\");\n\n    if (!ctx) {\n      return;\n    }\n\n    ctx.fillStyle = \"white\";\n    ctx.fillRect(0, 0, width * size, height * size);\n\n    ctx.fillStyle = \"black\";\n    for (let row = 0; row < population.length; row += 1) {\n      for (let col = 0; col < population[row].length; col += 1) {\n        const cell = population[row][col];\n        cell && ctx.fillRect(col * size, row * size, size, size);\n      }\n    }\n    // width & height depend on population, so no need to add them here\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [size, population]);\n\n  return (\n    <canvas\n      ref={canvasRef}\n      className=\"canvas\"\n      width={width * size}\n      height={height * size}\n    ></canvas>\n  );\n}\n\nexport default LifeCanvas;\n","import React from \"react\";\nimport \"./App.css\";\nimport { Grid, Preset } from \"./types\";\nimport { getInitialState, getNextPopulation } from \"./utils\";\nimport { useInterval } from \"./hooks\";\nimport Life from \"./Life\";\nimport LifeCanvas from \"./LifeCanvas\";\n\ninterface Props {\n  presets: Preset[];\n}\n\nconst MIN_LENGTH = 4;\nconst DEFAULT_SIZE = 30;\nconst LifetimeValues: Record<\n  number,\n  { value: number; label: string }\n> = Object.freeze({\n  1: { value: 1, label: \"requestAnimationFrame()\" },\n  2: { value: 16, label: \"16ms\" },\n  3: { value: 100, label: \"100ms\" },\n  4: { value: 300, label: \"300ms\" },\n  5: { value: 500, label: \"0.5s\" },\n});\n\ntype Renderer = \"html\" | \"canvas\";\n\nfunction App(props: Props) {\n  const { presets } = props;\n\n  const [play, setPlay] = React.useState(true);\n  const [renderer, setRenderer] = React.useState<Renderer>(\"html\");\n  const [lifetime, setLifetime] = React.useState(\n    +Object.keys(LifetimeValues).reverse()[0]\n  );\n  const [width, setWidth] = React.useState(presets[0].grid[0].length);\n  const [height, setHeight] = React.useState(presets[0].grid.length);\n  const [size, setSize] = React.useState(presets[0].size || DEFAULT_SIZE);\n  const [manualChange, increaseManualChange] = React.useState(0);\n  const [preset, setPreset] = React.useState(presets[0].id);\n\n  const [population, setPopulation] = React.useState<Grid>(\n    getInitialState(presets[0].grid, width, height)\n  );\n\n  useInterval(nextGeneration, play ? LifetimeValues[lifetime].value : null);\n\n  const optimizedToggleCell = React.useCallback(toggleCell, [\n    width,\n    height,\n    manualChange,\n  ]);\n\n  return (\n    <div>\n      Preset:{\" \"}\n      <select value={preset} onChange={(e) => loadPreset(e.target.value)}>\n        <option value=\"\">Select a preset</option>\n        {presets.map((preset) => (\n          <option key={preset.id} value={preset.id}>\n            {preset.description}\n          </option>\n        ))}\n      </select>\n      <select\n        value={renderer}\n        onChange={(e) => setRenderer(e.target.value as Renderer)}\n        style={{ marginLeft: \"-1px\" }}\n      >\n        <option key=\"html\" value=\"html\">\n          HTML\n        </option>\n        <option key=\"canvas\" value=\"canvas\">\n          Canvas\n        </option>\n      </select>{\" \"}\n      Width:{\" \"}\n      <input\n        type=\"number\"\n        value={width}\n        onChange={(e) => updateWidth(+e.target.value)}\n        maxLength={3}\n        className=\"input\"\n      />{\" \"}\n      Height:{\" \"}\n      <input\n        type=\"number\"\n        value={height}\n        onChange={(e) => updateHeight(+e.target.value)}\n        maxLength={3}\n        className=\"input\"\n      />{\" \"}\n      Size:{\" \"}\n      <input\n        type=\"number\"\n        value={size}\n        onChange={(e) => setSize(+e.target.value)}\n        maxLength={3}\n        className=\"input\"\n      />{\" \"}\n      <br />\n      <br />\n      <div style={{ display: \"flex\", alignItems: \"center\" }}>\n        <button onClick={() => setPlay(!play)}>{play ? \"Stop\" : \"Play\"}</button>{\" \"}\n        <input\n          type=\"range\"\n          value={lifetime}\n          min={1}\n          max={5}\n          onChange={(e) => setLifetime(+e.target.value)}\n          list=\"lifetime-options\"\n          style={{ margin: \"0 1em\" }}\n        />\n        <datalist id=\"lifetime-options\">\n          {Object.entries(LifetimeValues).map(([k, v]) => (\n            <option key={k} value={k} label={v.label} />\n          ))}\n        </datalist>{\" \"}\n        <div>{LifetimeValues[lifetime].label}</div>\n      </div>\n      <hr />\n      <div className={`${play ? \"playing\" : \"\"}`}>\n        {renderer === \"canvas\" ? (\n          <LifeCanvas population={population} size={size} />\n        ) : (\n          <Life\n            population={population}\n            onToggle={optimizedToggleCell}\n            size={size}\n          />\n        )}\n      </div>\n    </div>\n  );\n\n  function nextGeneration() {\n    setPopulation(getNextPopulation(population));\n  }\n\n  function updateWidth(value: number) {\n    const newWidth = Math.max(value, MIN_LENGTH);\n    setWidth(newWidth);\n    setPreset(\"\");\n    setPopulation(getInitialState(population, newWidth, height));\n  }\n\n  function updateHeight(value: number) {\n    const newHeight = Math.max(value, MIN_LENGTH);\n    setHeight(newHeight);\n    setPreset(\"\");\n    setPopulation(getInitialState(population, width, newHeight));\n  }\n\n  function loadPreset(id: string) {\n    const newPreset = presets.find((p) => p.id === id);\n    const newWidth = newPreset?.width || width;\n    const newHeight = newPreset?.height || height;\n    const newSize = newPreset?.size || DEFAULT_SIZE;\n\n    setHeight(newHeight);\n    setWidth(newWidth);\n    setWidth(newWidth);\n    setSize(newSize);\n    setPreset(id);\n\n    setPopulation(\n      getInitialState(newPreset?.grid || population, newWidth, newHeight)\n    );\n  }\n\n  function toggleCell(x: number, y: number) {\n    const newRow = [...population[y]];\n    newRow[x] = !newRow[x];\n\n    const newPopulation = [\n      ...population.slice(0, y),\n      newRow,\n      ...population.slice(y + 1),\n    ];\n\n    setPopulation(newPopulation);\n    setPreset(\"\");\n    increaseManualChange(manualChange + 1);\n  }\n}\n\nexport default App;\n","import React from \"react\";\n\nexport function useInterval(callback: Function, msDelay: number | null) {\n  const savedCallback = React.useRef() as React.MutableRefObject<Function>;\n\n  // Remember the latest function.\n  React.useEffect(() => {\n    savedCallback.current = callback;\n  }, [callback, savedCallback]);\n\n  // Set up the interval.\n  React.useEffect(() => {\n    let id: number;\n\n    function tick() {\n      savedCallback.current();\n\n      if (msDelay !== null) {\n        id =\n          msDelay < 16\n            ? requestAnimationFrame(tick)\n            : +setTimeout(tick, msDelay);\n      }\n    }\n\n    if (msDelay !== null) {\n      tick();\n      return () => (msDelay < 16 ? cancelAnimationFrame(id) : clearTimeout(id));\n    }\n  }, [msDelay, savedCallback]);\n}\n","import { Preset } from \"./types\";\n\nconst T = true;\nconst _ = false;\n\n// https://www.youtube.com/watch?v=-FaqC4h5Ftg\n\nexport function getPresets(): Preset[] {\n  return [\n    {\n      id: \"block\",\n      description: \"Block (Still life)\",\n      width: 4,\n      height: 4,\n      grid: [\n        [_, _, _, _],\n        [_, T, T, _],\n        [_, T, T, _],\n        [_, _, _, _],\n      ],\n    },\n    {\n      id: \"blinker\",\n      description: \"Blinker (period 2 Oscillator)\",\n      width: 5,\n      height: 5,\n      grid: [\n        [_, _, _, _, _],\n        [_, _, _, _, _],\n        [_, T, T, T, _],\n        [_, _, _, _, _],\n        [_, _, _, _, _],\n      ],\n    },\n    {\n      id: \"toad\",\n      description: \"Toad (period 2 Oscillator)\",\n      width: 6,\n      height: 6,\n      grid: [\n        [_, _, _, _, _, _],\n        [_, _, _, _, _, _],\n        [_, _, T, T, T, _],\n        [_, T, T, T, _, _],\n        [_, _, _, _, _, _],\n        [_, _, _, _, _, _],\n      ],\n    },\n    {\n      id: \"beacon\",\n      description: \"Beacon (period 2 Oscillator)\",\n      width: 6,\n      height: 6,\n      grid: [\n        [_, _, _, _, _, _],\n        [_, T, T, _, _, _],\n        [_, T, T, _, _, _],\n        [_, _, _, T, T, _],\n        [_, _, _, T, T, _],\n        [_, _, _, _, _, _],\n      ],\n    },\n    {\n      id: \"pulsar\",\n      description: \"Pulsar (period 3 Oscillator)\",\n      width: 17,\n      height: 17,\n      size: 20,\n      grid: [\n        [...No(17)],\n        [...No(17)],\n        [...No(4), ...Yes(3), ...No(3), ...Yes(3), ...No(4)],\n        [...No(17)],\n        [_, _, T, ...No(4), T, _, T, ...No(4), T, _, _],\n        [_, _, T, ...No(4), T, _, T, ...No(4), T, _, _],\n        [_, _, T, ...No(4), T, _, T, ...No(4), T, _, _],\n        [...No(4), ...Yes(3), ...No(3), ...Yes(3), ...No(4)],\n        [...No(17)],\n        [...No(4), ...Yes(3), ...No(3), ...Yes(3), ...No(4)],\n        [_, _, T, ...No(4), T, _, T, ...No(4), T, _, _],\n        [_, _, T, ...No(4), T, _, T, ...No(4), T, _, _],\n        [_, _, T, ...No(4), T, _, T, ...No(4), T, _, _],\n        [...No(17)],\n        [...No(4), ...Yes(3), ...No(3), ...Yes(3), ...No(4)],\n        [...No(17)],\n        [...No(17)],\n      ],\n    },\n    {\n      id: \"penta-decathlon\",\n      description: \"Penta-decathlon (period 15 Oscillator)\",\n      width: 11,\n      height: 18,\n      size: 14,\n      grid: [\n        [...No(11)],\n        [...No(11)],\n        [...No(11)],\n        [...No(11)],\n        [...No(5), T, ...No(5)],\n        [...No(5), T, ...No(5)],\n        [...No(4), T, _, T, ...No(4)],\n        [...No(5), T, ...No(5)],\n        [...No(5), T, ...No(5)],\n        [...No(5), T, ...No(5)],\n        [...No(5), T, ...No(5)],\n        [...No(4), T, _, T, ...No(4)],\n        [...No(5), T, ...No(5)],\n        [...No(5), T, ...No(5)],\n        [...No(11)],\n        [...No(11)],\n        [...No(11)],\n        [...No(11)],\n      ],\n    },\n    {\n      id: \"glider\",\n      description: \"Glider (Spaceship)\",\n      width: 10,\n      height: 10,\n      grid: [\n        [_, _, _, _, _],\n        [_, _, T, _, _],\n        [_, _, _, T, _],\n        [_, T, T, T, _],\n        [_, _, _, _, _],\n      ],\n    },\n    {\n      id: \"LWSS\",\n      description: \"Light-weight spaceship (LWSS)\",\n      width: 20,\n      height: 9,\n      grid: [\n        [_, _, _, _, _, _, _, _, _, _, _],\n        [_, _, _, _, _, _, _, _, _, _, _],\n        [_, _, _, _, _, _, _, _, _, _, _],\n        [_, _, _, _, T, T, T, T, _, _, _],\n        [_, _, _, T, _, _, _, T, _, _, _],\n        [_, _, _, _, _, _, _, T, _, _, _],\n        [_, _, _, T, _, _, T, _, _, _, _],\n        [_, _, _, _, _, _, _, _, _, _, _],\n        [_, _, _, _, _, _, _, _, _, _, _],\n      ],\n    },\n    {\n      id: \"MWSS\",\n      description: \"Middle-weight spaceship (MWSS)\",\n      width: 20,\n      height: 11,\n      grid: [\n        [_, _, _, _, _, _, _, _, _, _, _, _],\n        [_, _, _, _, _, _, _, _, _, _, _, _],\n        [_, _, _, _, _, T, _, _, _, _, _, _],\n        [_, _, _, T, _, _, _, T, _, _, _, _],\n        [_, _, _, _, _, _, _, _, T, _, _, _],\n        [_, _, _, T, _, _, _, _, T, _, _, _],\n        [_, _, _, _, T, T, T, T, T, _, _, _],\n        [_, _, _, _, _, _, _, _, _, _, _, _],\n        [_, _, _, _, _, _, _, _, _, _, _, _],\n      ],\n    },\n    {\n      id: \"HWSS\",\n      description: \"Heavy-weight spaceship (HWSS)\",\n      width: 20,\n      height: 11,\n      grid: [\n        [_, _, _, _, _, _, _, _, _, _, _, _, _],\n        [_, _, _, _, _, _, _, _, _, _, _, _, _],\n        [_, _, _, _, _, T, T, _, _, _, _, _, _],\n        [_, _, _, T, _, _, _, _, T, _, _, _, _],\n        [_, _, _, _, _, _, _, _, _, T, _, _, _],\n        [_, _, _, T, _, _, _, _, _, T, _, _, _],\n        [_, _, _, _, T, T, T, T, T, T, _, _, _],\n        [_, _, _, _, _, _, _, _, _, _, _, _, _],\n      ],\n    },\n    {\n      id: \"diehard\",\n      description: \"Die Hard (Methuselahs)\",\n      width: 50,\n      height: 50,\n      size: 3,\n      grid: [\n        ...Array(20).fill([false]),\n        [...No(20), _, _, _, _, _, _, T, _],\n        [...No(20), T, T, _, _, _, _, _, _],\n        [...No(20), _, T, _, _, _, T, T, T],\n      ],\n    },\n    {\n      id: \"acorn\",\n      description: \"Acorn (Methuselahs)\",\n      width: 200,\n      height: 150,\n      size: 3,\n      grid: [\n        ...Array(70).fill([false]),\n        [...No(100), _, T, _, _, _, _, _, _],\n        [...No(100), _, _, _, T, _, _, _, _],\n        [...No(100), T, T, _, _, T, T, T, _],\n      ],\n    },\n    {\n      id: \"r_pentomino\",\n      description: \"The R-pentomino (Methuselahs)\",\n      width: 200,\n      height: 150,\n      size: 3,\n      grid: [\n        ...Array(80).fill([false]),\n        [...No(100), _, T, T],\n        [...No(100), T, T, _],\n        [...No(100), _, T, _],\n      ],\n    },\n    {\n      id: \"infinite1\",\n      description: \"Infinite 1\",\n      width: 200,\n      height: 150,\n      size: 3,\n      grid: [\n        ...Array(80).fill([false]),\n        [...No(100), _, _, _, _, _, _, T, _, _],\n        [...No(100), _, _, _, _, T, _, T, T, _],\n        [...No(100), _, _, _, _, T, _, T, _, _],\n        [...No(100), _, _, _, _, T, _, _, _, _],\n        [...No(100), _, _, T, _, _, _, _, _, _],\n        [...No(100), T, _, T, _, _, _, _, _, _],\n      ],\n    },\n    {\n      id: \"infinite2\",\n      description: \"Infinite 2\",\n      width: 200,\n      height: 150,\n      size: 3,\n      grid: [\n        ...Array(80).fill([false]),\n        [...No(100), T, T, T, _, T],\n        [...No(100), T, _, _, _, _],\n        [...No(100), _, _, _, T, T],\n        [...No(100), _, T, T, _, T],\n        [...No(100), T, _, T, _, T],\n      ],\n    },\n    {\n      id: \"infinite3\",\n      description: \"Infinite 3\",\n      width: 300,\n      height: 200,\n      size: 3,\n      grid: [\n        ...Array(100).fill([false]),\n        [\n          ...No(10),\n          ...Yes(8),\n          _,\n          ...Yes(5),\n          ...No(3),\n          ...Yes(3),\n          ...No(6),\n          ...Yes(7),\n          _,\n          ...Yes(5),\n        ],\n      ],\n    },\n    {\n      id: \"gospelslidergun\",\n      description: \"Gosper glider gun\",\n      width: 300,\n      height: 200,\n      size: 3,\n      grid: [\n        ...Array(30).fill([false]),\n        // prettier-ignore\n        [...No(30), _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, T, _, _, _, _, _, _, _, _, _, _, _],\n        // prettier-ignore\n        [...No(30), _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, T, _, T, _, _, _, _, _, _, _, _, _, _, _],\n        // prettier-ignore\n        [...No(30), _, _, _, _, _, _, _, _, _, _, _, _, T, T, _, _, _, _, _, _, T, T, _, _, _, _, _, _, _, _, _, _, _, _, T, T],\n        // prettier-ignore\n        [...No(30), _, _, _, _, _, _, _, _, _, _, _, T, _, _, _, T, _, _, _, _, T, T, _, _, _, _, _, _, _, _, _, _, _, _, T, T],\n        // prettier-ignore\n        [...No(30), T, T, _, _, _, _, _, _, _, _, T, _, _, _, _, _, T, _, _, _, T, T, _, _, _, _, _, _, _, _, _, _, _, _, _, _],\n        // prettier-ignore\n        [...No(30), T, T, _, _, _, _, _, _, _, _, T, _, _, _, T, _, T, T, _, _, _, _, T, _, T, _, _, _, _, _, _, _, _, _, _, _],\n        // prettier-ignore\n        [...No(30), _, _, _, _, _, _, _, _, _, _, T, _, _, _, _, _, T, _, _, _, _, _, _, _, T, _, _, _, _, _, _, _, _, _, _, _],\n        // prettier-ignore\n        [...No(30), _, _, _, _, _, _, _, _, _, _, _, T, _, _, _, T, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _],\n        // prettier-ignore\n        [...No(30), _, _, _, _, _, _, _, _, _, _, _, _, T, T, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _, _],\n      ],\n    },\n  ];\n}\n\nfunction No(nr: number) {\n  return Array(nr).fill(_);\n}\nfunction Yes(nr: number) {\n  return Array(nr).fill(T);\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport App from \"./App\";\nimport { getPresets } from \"./presets\";\n\nconst presets = getPresets();\n\nReactDOM.render(\n  <React.StrictMode>\n    <App presets={presets} />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}